<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 9 Abundance vs. detections | Source code and supporting information for Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats</title>
  <meta name="description" content="Section 9 Abundance vs. detections | Source code and supporting information for Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 9 Abundance vs. detections | Source code and supporting information for Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="vjjan91/pointCount-Acoustics" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 9 Abundance vs. detections | Source code and supporting information for Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats" />
  
  
  

<meta name="author" content="Priyanka Hari Haran" />
<meta name="author" content="Vijay Ramesh" />
<meta name="author" content="Meghana P Srivathsa" />
<meta name="author" content="Laurel Symes" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="body-mass---frequency-correlations.html"/>
<link rel="next" href="abundance-vs.-vocalization-rates.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#attribution"><i class="fa fa-check"></i><b>1.1</b> Attribution</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#data-access"><i class="fa fa-check"></i><b>1.2</b> Data access</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#data-processing"><i class="fa fa-check"></i><b>1.3</b> Data processing</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html"><i class="fa fa-check"></i><b>2</b> Making datasets comparable</a>
<ul>
<li class="chapter" data-level="2.1" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#install-required-libraries"><i class="fa fa-check"></i><b>2.1</b> Install required libraries</a></li>
<li class="chapter" data-level="2.2" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#loading-point-count-data"><i class="fa fa-check"></i><b>2.2</b> Loading point count data</a></li>
<li class="chapter" data-level="2.3" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#loading-the-acoustic-data"><i class="fa fa-check"></i><b>2.3</b> Loading the acoustic data</a></li>
<li class="chapter" data-level="2.4" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#subset-acoustic-data-and-point-count-data"><i class="fa fa-check"></i><b>2.4</b> Subset acoustic data and point count data</a></li>
<li class="chapter" data-level="2.5" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#evaluating-both-subsets-of-data-before-combining-them-into-a-single-dataframe-for-further-analysis"><i class="fa fa-check"></i><b>2.5</b> Evaluating both subsets of data before combining them into a single dataframe for further analysis</a></li>
<li class="chapter" data-level="2.6" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#bind-the-acoustic-and-point-count-datasets-into-a-single-dataframe"><i class="fa fa-check"></i><b>2.6</b> Bind the acoustic and point count datasets into a single dataframe</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="richness-estimates.html"><a href="richness-estimates.html"><i class="fa fa-check"></i><b>3</b> Richness estimates</a>
<ul>
<li class="chapter" data-level="3.1" data-path="richness-estimates.html"><a href="richness-estimates.html#install-necessary-libraries"><i class="fa fa-check"></i><b>3.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="3.2" data-path="richness-estimates.html"><a href="richness-estimates.html#load-dataframe-containing-point-count-and-acoustic-data"><i class="fa fa-check"></i><b>3.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="3.3" data-path="richness-estimates.html"><a href="richness-estimates.html#load-species-trait-data"><i class="fa fa-check"></i><b>3.3</b> Load species trait data</a></li>
<li class="chapter" data-level="3.4" data-path="richness-estimates.html"><a href="richness-estimates.html#estimate-richness-for-point-count-and-acoustic-data"><i class="fa fa-check"></i><b>3.4</b> Estimate richness for point count and acoustic data</a></li>
<li class="chapter" data-level="3.5" data-path="richness-estimates.html"><a href="richness-estimates.html#visualize-differences-in-richness-between-point-count-data-and-acoustic-data"><i class="fa fa-check"></i><b>3.5</b> Visualize differences in richness between point count data and acoustic data</a></li>
<li class="chapter" data-level="3.6" data-path="richness-estimates.html"><a href="richness-estimates.html#visualize-differences-in-richness-as-a-function-of-species-habitat-affiliation"><i class="fa fa-check"></i><b>3.6</b> Visualize differences in richness as a function of species habitat affiliation</a></li>
<li class="chapter" data-level="3.7" data-path="richness-estimates.html"><a href="richness-estimates.html#visualize-differences-in-species-richness-as-a-function-of-species-foraging-guilds"><i class="fa fa-check"></i><b>3.7</b> Visualize differences in species richness as a function of species foraging guilds</a></li>
<li class="chapter" data-level="3.8" data-path="richness-estimates.html"><a href="richness-estimates.html#stacked-barplots-for-richness-across-foraging-guilds"><i class="fa fa-check"></i><b>3.8</b> Stacked barplots for richness across foraging guilds</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html"><i class="fa fa-check"></i><b>4</b> Time of day analyses</a>
<ul>
<li class="chapter" data-level="4.1" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#install-necessary-libraries-1"><i class="fa fa-check"></i><b>4.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="4.2" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#load-dataframe-containing-point-count-and-acoustic-data-1"><i class="fa fa-check"></i><b>4.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="4.3" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#load-species-trait-data-1"><i class="fa fa-check"></i><b>4.3</b> Load species trait data</a></li>
<li class="chapter" data-level="4.4" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#what-times-of-day-have-been-sampled-across-sites"><i class="fa fa-check"></i><b>4.4</b> What times of day have been sampled across sites?</a></li>
<li class="chapter" data-level="4.5" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#estimate-richness-by-time-of-day"><i class="fa fa-check"></i><b>4.5</b> Estimate richness by time of day</a></li>
<li class="chapter" data-level="4.6" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#visualize-differences-in-richness-between-point-count-data-and-acoustic-data-1"><i class="fa fa-check"></i><b>4.6</b> Visualize differences in richness between point count data and acoustic data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html"><i class="fa fa-check"></i><b>5</b> Indicator species analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#load-necessary-libraries"><i class="fa fa-check"></i><b>5.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="5.2" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#load-dataframe-containing-point-count-and-acoustic-data-2"><i class="fa fa-check"></i><b>5.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="5.3" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#load-species-trait-data-2"><i class="fa fa-check"></i><b>5.3</b> Load species trait data</a></li>
<li class="chapter" data-level="5.4" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#estimate-detections-across-visits-for-point-count-data-and-acoustic-data"><i class="fa fa-check"></i><b>5.4</b> Estimate detections across visits for point count data and acoustic data</a></li>
<li class="chapter" data-level="5.5" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#indicator-species-analysis-of-the-point-count-dataset"><i class="fa fa-check"></i><b>5.5</b> Indicator species analysis of the point-count dataset</a></li>
<li class="chapter" data-level="5.6" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#indicator-species-analysis-for-acoustic-data"><i class="fa fa-check"></i><b>5.6</b> Indicator species analysis for acoustic data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="body-mass.html"><a href="body-mass.html"><i class="fa fa-check"></i><b>6</b> Body mass</a>
<ul>
<li class="chapter" data-level="6.1" data-path="body-mass.html"><a href="body-mass.html#load-necessary-libraries-1"><i class="fa fa-check"></i><b>6.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="6.2" data-path="body-mass.html"><a href="body-mass.html#load-dataframe-containing-point-count-and-acoustic-data-3"><i class="fa fa-check"></i><b>6.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="6.3" data-path="body-mass.html"><a href="body-mass.html#load-species-trait-data-3"><i class="fa fa-check"></i><b>6.3</b> Load species trait data</a></li>
<li class="chapter" data-level="6.4" data-path="body-mass.html"><a href="body-mass.html#visit-level-detection-estimates-for-each-species"><i class="fa fa-check"></i><b>6.4</b> Visit-level detection estimates for each species</a></li>
<li class="chapter" data-level="6.5" data-path="body-mass.html"><a href="body-mass.html#exploring-ratios-of-detections-in-point-counts-acoustic-surveys-to-body-mass-of-a-species"><i class="fa fa-check"></i><b>6.5</b> Exploring ratios of detections in point counts &amp; acoustic surveys to body mass of a species</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="frequency.html"><a href="frequency.html"><i class="fa fa-check"></i><b>7</b> Frequency</a>
<ul>
<li class="chapter" data-level="7.1" data-path="frequency.html"><a href="frequency.html#load-dataframe-containing-point-count-and-acoustic-data-4"><i class="fa fa-check"></i><b>7.1</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="7.2" data-path="frequency.html"><a href="frequency.html#load-species-trait-data-and-frequency-data"><i class="fa fa-check"></i><b>7.2</b> Load species trait data and frequency data</a></li>
<li class="chapter" data-level="7.3" data-path="frequency.html"><a href="frequency.html#process-frequency-data"><i class="fa fa-check"></i><b>7.3</b> Process frequency data</a></li>
<li class="chapter" data-level="7.4" data-path="frequency.html"><a href="frequency.html#visit-level-detection-estimates-for-each-species-1"><i class="fa fa-check"></i><b>7.4</b> Visit-level detection estimates for each species</a></li>
<li class="chapter" data-level="7.5" data-path="frequency.html"><a href="frequency.html#exploring-ratios-of-detections-in-point-counts-acoustic-surveys-to-median-peak-frequency-of-a-species"><i class="fa fa-check"></i><b>7.5</b> Exploring ratios of detections in point counts &amp; acoustic surveys to median peak frequency of a species</a></li>
<li class="chapter" data-level="7.6" data-path="frequency.html"><a href="frequency.html#rerun-analyses-by-including-only-species-with-a-minimum-of-10-templates"><i class="fa fa-check"></i><b>7.6</b> Rerun analyses by including only species with a minimum of 10 templates</a></li>
<li class="chapter" data-level="7.7" data-path="frequency.html"><a href="frequency.html#exploring-center-frequency-instead-of-peak-frequency"><i class="fa fa-check"></i><b>7.7</b> Exploring center frequency instead of peak frequency</a></li>
<li class="chapter" data-level="7.8" data-path="frequency.html"><a href="frequency.html#visualizations-that-do-not-group-treatment-types"><i class="fa fa-check"></i><b>7.8</b> Visualizations that do not group treatment types</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html"><i class="fa fa-check"></i><b>8</b> Body mass - Frequency correlations</a>
<ul>
<li class="chapter" data-level="8.1" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html#load-necessary-libraries-2"><i class="fa fa-check"></i><b>8.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="8.2" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html#load-species-trait-data-and-frequency-data-1"><i class="fa fa-check"></i><b>8.2</b> Load species trait data and frequency data</a></li>
<li class="chapter" data-level="8.3" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html#process-frequency-data-1"><i class="fa fa-check"></i><b>8.3</b> Process frequency data</a></li>
<li class="chapter" data-level="8.4" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html#visualization-of-correlations-between-body-mass-and-frequency"><i class="fa fa-check"></i><b>8.4</b> Visualization of correlations between body mass and frequency</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html"><i class="fa fa-check"></i><b>9</b> Abundance vs. detections</a>
<ul>
<li class="chapter" data-level="9.1" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#install-necessary-libraries-2"><i class="fa fa-check"></i><b>9.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="9.2" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#load-dataframe-containing-point-count-and-acoustic-data-5"><i class="fa fa-check"></i><b>9.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="9.3" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#estimate-abundance-for-point-count-data-and-detections-for-acoustic-data"><i class="fa fa-check"></i><b>9.3</b> Estimate abundance for point count data and detections for acoustic data</a></li>
<li class="chapter" data-level="9.4" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#correlations-between-abundance-and-detections"><i class="fa fa-check"></i><b>9.4</b> Correlations between abundance and detections</a></li>
<li class="chapter" data-level="9.5" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#combine-site-level-data-to-test-for-correlations-between-abundance-and-detections-for-each-species-at-the-level-of-the-treatment-type"><i class="fa fa-check"></i><b>9.5</b> Combine site-level data to test for correlations between abundance and detections for each species (at the level of the treatment type)</a></li>
<li class="chapter" data-level="9.6" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#species-specific-plots-of-correlations-between-abundance-and-detections"><i class="fa fa-check"></i><b>9.6</b> Species-specific plots of correlations between abundance and detections</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="abundance-vs.-vocalization-rates.html"><a href="abundance-vs.-vocalization-rates.html"><i class="fa fa-check"></i><b>10</b> Abundance vs. vocalization rates</a>
<ul>
<li class="chapter" data-level="10.1" data-path="abundance-vs.-vocalization-rates.html"><a href="abundance-vs.-vocalization-rates.html#install-necessary-libraries-3"><i class="fa fa-check"></i><b>10.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="10.2" data-path="abundance-vs.-vocalization-rates.html"><a href="abundance-vs.-vocalization-rates.html#load-dataframe-containing-point-count-and-acoustic-data-6"><i class="fa fa-check"></i><b>10.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="10.3" data-path="abundance-vs.-vocalization-rates.html"><a href="abundance-vs.-vocalization-rates.html#estimate-abundance-from-point-count-data-and-calculate-vocalization-rates-from-acoustic-data"><i class="fa fa-check"></i><b>10.3</b> Estimate abundance from point count data and calculate vocalization rates from acoustic data</a></li>
<li class="chapter" data-level="10.4" data-path="abundance-vs.-vocalization-rates.html"><a href="abundance-vs.-vocalization-rates.html#correlations-between-abundance-and-vocalization-rates"><i class="fa fa-check"></i><b>10.4</b> Correlations between abundance and vocalization rates</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="rank-abundance-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-curves-for-point-count-and-acoustic-data.html"><i class="fa fa-check"></i><b>11</b> Rank abundance curves for point count and acoustic data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="rank-abundance-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-curves-for-point-count-and-acoustic-data.html#install-necessary-libraries-4"><i class="fa fa-check"></i><b>11.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="11.2" data-path="rank-abundance-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-curves-for-point-count-and-acoustic-data.html#load-dataframe-containing-point-count-and-acoustic-data-7"><i class="fa fa-check"></i><b>11.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="11.3" data-path="rank-abundance-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-curves-for-point-count-and-acoustic-data.html#estimate-abundance-for-point-count-data-and-detections-for-acoustic-data-1"><i class="fa fa-check"></i><b>11.3</b> Estimate abundance for point count data and detections for acoustic data</a></li>
<li class="chapter" data-level="11.4" data-path="rank-abundance-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-curves-for-point-count-and-acoustic-data.html#create-rank-abundance-curves"><i class="fa fa-check"></i><b>11.4</b> Create rank abundance curves</a></li>
<li class="chapter" data-level="11.5" data-path="rank-abundance-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-curves-for-point-count-and-acoustic-data.html#rank-abundance-models"><i class="fa fa-check"></i><b>11.5</b> Rank-abundance models</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html"><i class="fa fa-check"></i><b>12</b> r value vs. species traits</a>
<ul>
<li class="chapter" data-level="12.1" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html#load-necessary-libraries-3"><i class="fa fa-check"></i><b>12.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="12.2" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html#load-species-trait-data-and-frequency-data-2"><i class="fa fa-check"></i><b>12.2</b> Load species trait data and frequency data</a></li>
<li class="chapter" data-level="12.3" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html#load-correlation-scores-from-previous-script"><i class="fa fa-check"></i><b>12.3</b> Load correlation scores from previous script</a></li>
<li class="chapter" data-level="12.4" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html#body-mass-and-correlation-scores"><i class="fa fa-check"></i><b>12.4</b> Body mass and correlation scores</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="acoustic-detections-vs.-vocalization-duration.html"><a href="acoustic-detections-vs.-vocalization-duration.html"><i class="fa fa-check"></i><b>13</b> Acoustic detections vs. vocalization duration</a>
<ul>
<li class="chapter" data-level="13.1" data-path="acoustic-detections-vs.-vocalization-duration.html"><a href="acoustic-detections-vs.-vocalization-duration.html#load-necessary-libraries-4"><i class="fa fa-check"></i><b>13.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="13.2" data-path="acoustic-detections-vs.-vocalization-duration.html"><a href="acoustic-detections-vs.-vocalization-duration.html#load-dataframe-containing-point-count-and-acoustic-data-8"><i class="fa fa-check"></i><b>13.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="13.3" data-path="acoustic-detections-vs.-vocalization-duration.html"><a href="acoustic-detections-vs.-vocalization-duration.html#load-frequency-data"><i class="fa fa-check"></i><b>13.3</b> Load frequency data</a></li>
<li class="chapter" data-level="13.4" data-path="acoustic-detections-vs.-vocalization-duration.html"><a href="acoustic-detections-vs.-vocalization-duration.html#estimate-detections-for-acoustic-data"><i class="fa fa-check"></i><b>13.4</b> Estimate detections for acoustic data</a></li>
<li class="chapter" data-level="13.5" data-path="acoustic-detections-vs.-vocalization-duration.html"><a href="acoustic-detections-vs.-vocalization-duration.html#process-frequency-data-2"><i class="fa fa-check"></i><b>13.5</b> Process frequency data</a></li>
<li class="chapter" data-level="13.6" data-path="acoustic-detections-vs.-vocalization-duration.html"><a href="acoustic-detections-vs.-vocalization-duration.html#correlations-between-acoustic-detections-and-median-delta-time"><i class="fa fa-check"></i><b>13.6</b> Correlations between acoustic detections and median delta time</a></li>
<li class="chapter" data-level="13.7" data-path="acoustic-detections-vs.-vocalization-duration.html"><a href="acoustic-detections-vs.-vocalization-duration.html#combine-site-level-data-to-test-for-correlations-between-detections-and-median-delta-time-for-each-species-at-the-level-of-the-treatment-type"><i class="fa fa-check"></i><b>13.7</b> Combine site-level data to test for correlations between detections and median delta time for each species (at the level of the treatment type)</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Source code and supporting information for <em>Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats</em></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="abundance-vs.-detections" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Section 9</span> Abundance vs. detections<a href="abundance-vs.-detections.html#abundance-vs.-detections" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this script, we test for correlations between abundance (as estimated from point count data) and detections (as estimated from acoustic data).</p>
<div id="install-necessary-libraries-2" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Install necessary libraries<a href="abundance-vs.-detections.html#install-necessary-libraries-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="abundance-vs.-detections.html#cb45-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb45-2"><a href="abundance-vs.-detections.html#cb45-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb45-3"><a href="abundance-vs.-detections.html#cb45-3" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb45-4"><a href="abundance-vs.-detections.html#cb45-4" tabindex="-1"></a><span class="fu">library</span>(vegan)</span>
<span id="cb45-5"><a href="abundance-vs.-detections.html#cb45-5" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb45-6"><a href="abundance-vs.-detections.html#cb45-6" tabindex="-1"></a><span class="fu">library</span>(scico)</span>
<span id="cb45-7"><a href="abundance-vs.-detections.html#cb45-7" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb45-8"><a href="abundance-vs.-detections.html#cb45-8" tabindex="-1"></a><span class="fu">library</span>(extrafont)</span>
<span id="cb45-9"><a href="abundance-vs.-detections.html#cb45-9" tabindex="-1"></a><span class="fu">library</span>(ggstatsplot)</span>
<span id="cb45-10"><a href="abundance-vs.-detections.html#cb45-10" tabindex="-1"></a><span class="fu">library</span>(ggside)</span>
<span id="cb45-11"><a href="abundance-vs.-detections.html#cb45-11" tabindex="-1"></a></span>
<span id="cb45-12"><a href="abundance-vs.-detections.html#cb45-12" tabindex="-1"></a><span class="co"># Source any custom/other internal functions necessary for analysis</span></span>
<span id="cb45-13"><a href="abundance-vs.-detections.html#cb45-13" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;code/01_internal-functions.R&quot;</span>)</span></code></pre></div>
</div>
<div id="load-dataframe-containing-point-count-and-acoustic-data-5" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Load dataframe containing point count and acoustic data<a href="abundance-vs.-detections.html#load-dataframe-containing-point-count-and-acoustic-data-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="abundance-vs.-detections.html#cb46-1" tabindex="-1"></a>datSubset <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;results/datSubset.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="estimate-abundance-for-point-count-data-and-detections-for-acoustic-data" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Estimate abundance for point count data and detections for acoustic data<a href="abundance-vs.-detections.html#estimate-abundance-for-point-count-data-and-detections-for-acoustic-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here, we make a distinction before running correlative analyses that abundance corresponds to the total number of individuals of a species detected across visits to a site and can only be calculated for point count data. In the acoustic dataset, individuals are not seen and a measure of detections (estimated as the total number of times as species was heard across ~576 10-s clips). Here 576 clips correspond to the total amount of acoustic data - 96 min (576 10-s clips) of data = 16-min of data for every visit).</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="abundance-vs.-detections.html#cb47-1" tabindex="-1"></a><span class="co"># point-count data</span></span>
<span id="cb47-2"><a href="abundance-vs.-detections.html#cb47-2" tabindex="-1"></a><span class="co"># estimate total abundance across all species for each site</span></span>
<span id="cb47-3"><a href="abundance-vs.-detections.html#cb47-3" tabindex="-1"></a>abundance <span class="ot">&lt;-</span> datSubset <span class="sc">%&gt;%</span></span>
<span id="cb47-4"><a href="abundance-vs.-detections.html#cb47-4" tabindex="-1"></a>  <span class="fu">filter</span>(data_type <span class="sc">==</span> <span class="st">&quot;point_count&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-5"><a href="abundance-vs.-detections.html#cb47-5" tabindex="-1"></a>  <span class="fu">group_by</span>(site_id, restoration_type, scientific_name,</span>
<span id="cb47-6"><a href="abundance-vs.-detections.html#cb47-6" tabindex="-1"></a>           common_name, eBird_codes) <span class="sc">%&gt;%</span> </span>
<span id="cb47-7"><a href="abundance-vs.-detections.html#cb47-7" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">abundance_pc =</span> <span class="fu">sum</span>(number)) <span class="sc">%&gt;%</span></span>
<span id="cb47-8"><a href="abundance-vs.-detections.html#cb47-8" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb47-9"><a href="abundance-vs.-detections.html#cb47-9" tabindex="-1"></a></span>
<span id="cb47-10"><a href="abundance-vs.-detections.html#cb47-10" tabindex="-1"></a><span class="co"># estimate total number of detections across the acoustic data</span></span>
<span id="cb47-11"><a href="abundance-vs.-detections.html#cb47-11" tabindex="-1"></a><span class="co"># note: we cannot call this abundance as it refers to the total number of vocalizations across all sites</span></span>
<span id="cb47-12"><a href="abundance-vs.-detections.html#cb47-12" tabindex="-1"></a>detections <span class="ot">&lt;-</span> datSubset <span class="sc">%&gt;%</span></span>
<span id="cb47-13"><a href="abundance-vs.-detections.html#cb47-13" tabindex="-1"></a>  <span class="fu">filter</span>(data_type <span class="sc">==</span> <span class="st">&quot;acoustic_data&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-14"><a href="abundance-vs.-detections.html#cb47-14" tabindex="-1"></a>  <span class="fu">group_by</span>(site_id, restoration_type, scientific_name,</span>
<span id="cb47-15"><a href="abundance-vs.-detections.html#cb47-15" tabindex="-1"></a>           common_name, eBird_codes) <span class="sc">%&gt;%</span> </span>
<span id="cb47-16"><a href="abundance-vs.-detections.html#cb47-16" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">detections_aru =</span> <span class="fu">sum</span>(number)) <span class="sc">%&gt;%</span></span>
<span id="cb47-17"><a href="abundance-vs.-detections.html#cb47-17" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code></pre></div>
</div>
<div id="correlations-between-abundance-and-detections" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> Correlations between abundance and detections<a href="abundance-vs.-detections.html#correlations-between-abundance-and-detections" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="abundance-vs.-detections.html#cb48-1" tabindex="-1"></a><span class="co"># create a single dataframe</span></span>
<span id="cb48-2"><a href="abundance-vs.-detections.html#cb48-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">full_join</span>(abundance, detections)<span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="abundance-vs.-detections.html#cb48-3" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">abundance_pc =</span> <span class="dv">0</span>, <span class="at">detections_aru =</span> <span class="dv">0</span>))</span>
<span id="cb48-4"><a href="abundance-vs.-detections.html#cb48-4" tabindex="-1"></a></span>
<span id="cb48-5"><a href="abundance-vs.-detections.html#cb48-5" tabindex="-1"></a><span class="co"># reordering factors for plotting</span></span>
<span id="cb48-6"><a href="abundance-vs.-detections.html#cb48-6" tabindex="-1"></a>data<span class="sc">$</span>restoration_type <span class="ot">&lt;-</span> <span class="fu">factor</span>(data<span class="sc">$</span>restoration_type, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;BM&quot;</span>, <span class="st">&quot;AR&quot;</span>, <span class="st">&quot;NR&quot;</span>))</span>
<span id="cb48-7"><a href="abundance-vs.-detections.html#cb48-7" tabindex="-1"></a></span>
<span id="cb48-8"><a href="abundance-vs.-detections.html#cb48-8" tabindex="-1"></a><span class="co"># visualization</span></span>
<span id="cb48-9"><a href="abundance-vs.-detections.html#cb48-9" tabindex="-1"></a>fig_abund_detec <span class="ot">&lt;-</span> <span class="fu">grouped_ggscatterstats</span>(</span>
<span id="cb48-10"><a href="abundance-vs.-detections.html#cb48-10" tabindex="-1"></a>  <span class="at">data =</span> data,</span>
<span id="cb48-11"><a href="abundance-vs.-detections.html#cb48-11" tabindex="-1"></a>  <span class="at">x =</span> detections_aru,</span>
<span id="cb48-12"><a href="abundance-vs.-detections.html#cb48-12" tabindex="-1"></a>  <span class="at">y =</span> abundance_pc,</span>
<span id="cb48-13"><a href="abundance-vs.-detections.html#cb48-13" tabindex="-1"></a>  <span class="at">grouping.var =</span> restoration_type,</span>
<span id="cb48-14"><a href="abundance-vs.-detections.html#cb48-14" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;r&quot;</span>,</span>
<span id="cb48-15"><a href="abundance-vs.-detections.html#cb48-15" tabindex="-1"></a>  <span class="at">plotgrid.args =</span> <span class="fu">list</span>(<span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">1</span>),</span>
<span id="cb48-16"><a href="abundance-vs.-detections.html#cb48-16" tabindex="-1"></a>  <span class="at">ggplot.component =</span> <span class="fu">list</span>(<span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb48-17"><a href="abundance-vs.-detections.html#cb48-17" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb48-18"><a href="abundance-vs.-detections.html#cb48-18" tabindex="-1"></a>      <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, </span>
<span id="cb48-19"><a href="abundance-vs.-detections.html#cb48-19" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;#1b2838&quot;</span>),</span>
<span id="cb48-20"><a href="abundance-vs.-detections.html#cb48-20" tabindex="-1"></a>      <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb48-21"><a href="abundance-vs.-detections.html#cb48-21" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))))</span>
<span id="cb48-22"><a href="abundance-vs.-detections.html#cb48-22" tabindex="-1"></a></span>
<span id="cb48-23"><a href="abundance-vs.-detections.html#cb48-23" tabindex="-1"></a><span class="fu">ggsave</span>(fig_abund_detec, <span class="at">filename =</span> <span class="st">&quot;figs/fig_abundance_vs_detections.png&quot;</span>, <span class="at">width =</span> <span class="dv">14</span>, <span class="at">height =</span> <span class="dv">16</span>, <span class="at">device =</span> <span class="fu">png</span>(), <span class="at">units =</span> <span class="st">&quot;in&quot;</span>, <span class="at">dpi =</span> <span class="dv">300</span>)</span>
<span id="cb48-24"><a href="abundance-vs.-detections.html#cb48-24" tabindex="-1"></a><span class="fu">dev.off</span>() </span></code></pre></div>
<div class="float">
<img src="figs/fig_abundance_vs_detections.png" alt="Positive correlations were observed between abundance (estimated through point count data) and detections (estimated through acoustic data) across treatment types" />
<div class="figcaption">Positive correlations were observed between abundance (estimated through point count data) and detections (estimated through acoustic data) across treatment types</div>
</div>
</div>
<div id="combine-site-level-data-to-test-for-correlations-between-abundance-and-detections-for-each-species-at-the-level-of-the-treatment-type" class="section level2 hasAnchor" number="9.5">
<h2><span class="header-section-number">9.5</span> Combine site-level data to test for correlations between abundance and detections for each species (at the level of the treatment type)<a href="abundance-vs.-detections.html#combine-site-level-data-to-test-for-correlations-between-abundance-and-detections-for-each-species-at-the-level-of-the-treatment-type" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here, each dot in the visualization refers to a particular species and the only difference between this analysis and previous one is that the site-level variation is compressed/lost and the visualization/correlative analyses are being carried out across species and treatment types.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="abundance-vs.-detections.html#cb49-1" tabindex="-1"></a><span class="co"># grouping point count data at the level of the treatment type</span></span>
<span id="cb49-2"><a href="abundance-vs.-detections.html#cb49-2" tabindex="-1"></a>abundance_group <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="abundance-vs.-detections.html#cb49-3" tabindex="-1"></a>  <span class="fu">group_by</span>(restoration_type, scientific_name,</span>
<span id="cb49-4"><a href="abundance-vs.-detections.html#cb49-4" tabindex="-1"></a>           common_name, eBird_codes) <span class="sc">%&gt;%</span> </span>
<span id="cb49-5"><a href="abundance-vs.-detections.html#cb49-5" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">abundance_pc =</span> <span class="fu">sum</span>(abundance_pc)) <span class="sc">%&gt;%</span></span>
<span id="cb49-6"><a href="abundance-vs.-detections.html#cb49-6" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb49-7"><a href="abundance-vs.-detections.html#cb49-7" tabindex="-1"></a></span>
<span id="cb49-8"><a href="abundance-vs.-detections.html#cb49-8" tabindex="-1"></a><span class="co"># grouping acoustic data at the level of the treatment type</span></span>
<span id="cb49-9"><a href="abundance-vs.-detections.html#cb49-9" tabindex="-1"></a>detections_group <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb49-10"><a href="abundance-vs.-detections.html#cb49-10" tabindex="-1"></a>  <span class="fu">group_by</span>(restoration_type, scientific_name,</span>
<span id="cb49-11"><a href="abundance-vs.-detections.html#cb49-11" tabindex="-1"></a>           common_name, eBird_codes) <span class="sc">%&gt;%</span> </span>
<span id="cb49-12"><a href="abundance-vs.-detections.html#cb49-12" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">detections_aru =</span> <span class="fu">sum</span>(detections_aru)) <span class="sc">%&gt;%</span></span>
<span id="cb49-13"><a href="abundance-vs.-detections.html#cb49-13" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb49-14"><a href="abundance-vs.-detections.html#cb49-14" tabindex="-1"></a></span>
<span id="cb49-15"><a href="abundance-vs.-detections.html#cb49-15" tabindex="-1"></a><span class="co"># create a single dataframe</span></span>
<span id="cb49-16"><a href="abundance-vs.-detections.html#cb49-16" tabindex="-1"></a>data_group <span class="ot">&lt;-</span> <span class="fu">full_join</span>(abundance_group, detections_group)</span>
<span id="cb49-17"><a href="abundance-vs.-detections.html#cb49-17" tabindex="-1"></a></span>
<span id="cb49-18"><a href="abundance-vs.-detections.html#cb49-18" tabindex="-1"></a><span class="co"># reordering factors for plotting</span></span>
<span id="cb49-19"><a href="abundance-vs.-detections.html#cb49-19" tabindex="-1"></a>data_group<span class="sc">$</span>restoration_type <span class="ot">&lt;-</span> <span class="fu">factor</span>(data_group<span class="sc">$</span>restoration_type, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;BM&quot;</span>, <span class="st">&quot;AR&quot;</span>, <span class="st">&quot;NR&quot;</span>))</span>
<span id="cb49-20"><a href="abundance-vs.-detections.html#cb49-20" tabindex="-1"></a></span>
<span id="cb49-21"><a href="abundance-vs.-detections.html#cb49-21" tabindex="-1"></a><span class="co"># visualization</span></span>
<span id="cb49-22"><a href="abundance-vs.-detections.html#cb49-22" tabindex="-1"></a>fig_abund_detec_group <span class="ot">&lt;-</span> <span class="fu">grouped_ggscatterstats</span>(</span>
<span id="cb49-23"><a href="abundance-vs.-detections.html#cb49-23" tabindex="-1"></a>  <span class="at">data =</span> data_group,</span>
<span id="cb49-24"><a href="abundance-vs.-detections.html#cb49-24" tabindex="-1"></a>  <span class="at">x =</span> detections_aru,</span>
<span id="cb49-25"><a href="abundance-vs.-detections.html#cb49-25" tabindex="-1"></a>  <span class="at">y =</span> abundance_pc,</span>
<span id="cb49-26"><a href="abundance-vs.-detections.html#cb49-26" tabindex="-1"></a>  <span class="at">grouping.var =</span> restoration_type,</span>
<span id="cb49-27"><a href="abundance-vs.-detections.html#cb49-27" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;r&quot;</span>,</span>
<span id="cb49-28"><a href="abundance-vs.-detections.html#cb49-28" tabindex="-1"></a>  <span class="at">label.var =</span> scientific_name, </span>
<span id="cb49-29"><a href="abundance-vs.-detections.html#cb49-29" tabindex="-1"></a>  <span class="at">label.expression =</span> detections_aru <span class="sc">&gt;</span> <span class="dv">1000</span>, </span>
<span id="cb49-30"><a href="abundance-vs.-detections.html#cb49-30" tabindex="-1"></a>  <span class="at">point.label.args =</span> <span class="fu">list</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;grey50&quot;</span>),</span>
<span id="cb49-31"><a href="abundance-vs.-detections.html#cb49-31" tabindex="-1"></a>  <span class="at">plotgrid.args =</span> <span class="fu">list</span>(<span class="at">nrow =</span> <span class="dv">3</span>, <span class="at">ncol =</span> <span class="dv">1</span>),</span>
<span id="cb49-32"><a href="abundance-vs.-detections.html#cb49-32" tabindex="-1"></a>  <span class="at">ggplot.component =</span> <span class="fu">list</span>(<span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb49-33"><a href="abundance-vs.-detections.html#cb49-33" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb49-34"><a href="abundance-vs.-detections.html#cb49-34" tabindex="-1"></a>      <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, </span>
<span id="cb49-35"><a href="abundance-vs.-detections.html#cb49-35" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;#1b2838&quot;</span>),</span>
<span id="cb49-36"><a href="abundance-vs.-detections.html#cb49-36" tabindex="-1"></a>      <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb49-37"><a href="abundance-vs.-detections.html#cb49-37" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))))</span>
<span id="cb49-38"><a href="abundance-vs.-detections.html#cb49-38" tabindex="-1"></a></span>
<span id="cb49-39"><a href="abundance-vs.-detections.html#cb49-39" tabindex="-1"></a><span class="fu">ggsave</span>(fig_abund_detec_group, <span class="at">filename =</span> <span class="st">&quot;figs/fig_abundance_vs_detections_grouped.png&quot;</span>, <span class="at">width =</span> <span class="dv">14</span>, <span class="at">height =</span> <span class="dv">16</span>, <span class="at">device =</span> <span class="fu">png</span>(), <span class="at">units =</span> <span class="st">&quot;in&quot;</span>, <span class="at">dpi =</span> <span class="dv">300</span>)</span>
<span id="cb49-40"><a href="abundance-vs.-detections.html#cb49-40" tabindex="-1"></a><span class="fu">dev.off</span>() </span></code></pre></div>
<div class="float">
<img src="figs/fig_abundance_vs_detections_grouped.png" alt="Highly significant positive correlations were observed between abundance (estimated through point count data) and detections (estimated through acoustic data), when data was grouped at the level of the treatment" />
<div class="figcaption">Highly significant positive correlations were observed between abundance (estimated through point count data) and detections (estimated through acoustic data), when data was grouped at the level of the treatment</div>
</div>
</div>
<div id="species-specific-plots-of-correlations-between-abundance-and-detections" class="section level2 hasAnchor" number="9.6">
<h2><span class="header-section-number">9.6</span> Species-specific plots of correlations between abundance and detections<a href="abundance-vs.-detections.html#species-specific-plots-of-correlations-between-abundance-and-detections" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>For this analysis, we will not be grouping data by treatment types for plot as we have insufficient data if we divided it up. In addition, we will remove species that were detected in only or the other method (point count or acoustic surveys). Further, we only keep species that had a minimum abundance of 10 and a minimum number of acoustic detections of 10.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="abundance-vs.-detections.html#cb50-1" tabindex="-1"></a><span class="co"># identifying species that need to be kept</span></span>
<span id="cb50-2"><a href="abundance-vs.-detections.html#cb50-2" tabindex="-1"></a><span class="co"># only those species that have a minimum abundance value of 10 and minimum detection value of 10</span></span>
<span id="cb50-3"><a href="abundance-vs.-detections.html#cb50-3" tabindex="-1"></a>spp_subset <span class="ot">&lt;-</span>  data <span class="sc">%&gt;%</span></span>
<span id="cb50-4"><a href="abundance-vs.-detections.html#cb50-4" tabindex="-1"></a>  <span class="fu">group_by</span>(scientific_name) <span class="sc">%&gt;%</span></span>
<span id="cb50-5"><a href="abundance-vs.-detections.html#cb50-5" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">abundance_pc =</span> <span class="fu">sum</span>(abundance_pc), <span class="at">detections_aru =</span> <span class="fu">sum</span>(detections_aru)) <span class="sc">%&gt;%</span></span>
<span id="cb50-6"><a href="abundance-vs.-detections.html#cb50-6" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb50-7"><a href="abundance-vs.-detections.html#cb50-7" tabindex="-1"></a>  <span class="fu">filter</span>(abundance_pc <span class="sc">&gt;=</span><span class="dv">10</span> <span class="sc">&amp;</span> detections_aru <span class="sc">&gt;=</span> <span class="dv">10</span>)</span>
<span id="cb50-8"><a href="abundance-vs.-detections.html#cb50-8" tabindex="-1"></a></span>
<span id="cb50-9"><a href="abundance-vs.-detections.html#cb50-9" tabindex="-1"></a><span class="co"># subset data</span></span>
<span id="cb50-10"><a href="abundance-vs.-detections.html#cb50-10" tabindex="-1"></a>dat_subset <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb50-11"><a href="abundance-vs.-detections.html#cb50-11" tabindex="-1"></a>  <span class="fu">filter</span>(scientific_name <span class="sc">%in%</span> spp_subset<span class="sc">$</span>scientific_name)</span>
<span id="cb50-12"><a href="abundance-vs.-detections.html#cb50-12" tabindex="-1"></a></span>
<span id="cb50-13"><a href="abundance-vs.-detections.html#cb50-13" tabindex="-1"></a><span class="co"># visualization</span></span>
<span id="cb50-14"><a href="abundance-vs.-detections.html#cb50-14" tabindex="-1"></a>plots <span class="ot">&lt;-</span> <span class="fu">list</span>()</span>
<span id="cb50-15"><a href="abundance-vs.-detections.html#cb50-15" tabindex="-1"></a>metadata <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb50-16"><a href="abundance-vs.-detections.html#cb50-16" tabindex="-1"></a></span>
<span id="cb50-17"><a href="abundance-vs.-detections.html#cb50-17" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(<span class="fu">unique</span>(dat_subset<span class="sc">$</span>scientific_name))){</span>
<span id="cb50-18"><a href="abundance-vs.-detections.html#cb50-18" tabindex="-1"></a>  </span>
<span id="cb50-19"><a href="abundance-vs.-detections.html#cb50-19" tabindex="-1"></a>  <span class="co"># extract species scientific name</span></span>
<span id="cb50-20"><a href="abundance-vs.-detections.html#cb50-20" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">unique</span>(dat_subset<span class="sc">$</span>scientific_name)[i]</span>
<span id="cb50-21"><a href="abundance-vs.-detections.html#cb50-21" tabindex="-1"></a>  </span>
<span id="cb50-22"><a href="abundance-vs.-detections.html#cb50-22" tabindex="-1"></a>  <span class="co"># subset data for plotting</span></span>
<span id="cb50-23"><a href="abundance-vs.-detections.html#cb50-23" tabindex="-1"></a>  for_plot <span class="ot">&lt;-</span> dat_subset[dat_subset<span class="sc">$</span>scientific_name<span class="sc">==</span>a,]</span>
<span id="cb50-24"><a href="abundance-vs.-detections.html#cb50-24" tabindex="-1"></a>  </span>
<span id="cb50-25"><a href="abundance-vs.-detections.html#cb50-25" tabindex="-1"></a>  <span class="co"># create plots</span></span>
<span id="cb50-26"><a href="abundance-vs.-detections.html#cb50-26" tabindex="-1"></a>  plots[[i]] <span class="ot">&lt;-</span> <span class="fu">ggscatterstats</span>(</span>
<span id="cb50-27"><a href="abundance-vs.-detections.html#cb50-27" tabindex="-1"></a>  <span class="at">data =</span> for_plot,</span>
<span id="cb50-28"><a href="abundance-vs.-detections.html#cb50-28" tabindex="-1"></a>  <span class="at">x =</span> detections_aru,</span>
<span id="cb50-29"><a href="abundance-vs.-detections.html#cb50-29" tabindex="-1"></a>  <span class="at">y =</span> abundance_pc,</span>
<span id="cb50-30"><a href="abundance-vs.-detections.html#cb50-30" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">&quot;r&quot;</span>,</span>
<span id="cb50-31"><a href="abundance-vs.-detections.html#cb50-31" tabindex="-1"></a>  <span class="at">title =</span> a,</span>
<span id="cb50-32"><a href="abundance-vs.-detections.html#cb50-32" tabindex="-1"></a>  <span class="at">ggplot.component =</span> <span class="fu">list</span>(<span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,<span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb50-33"><a href="abundance-vs.-detections.html#cb50-33" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, </span>
<span id="cb50-34"><a href="abundance-vs.-detections.html#cb50-34" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;#1b2838&quot;</span>),</span>
<span id="cb50-35"><a href="abundance-vs.-detections.html#cb50-35" tabindex="-1"></a>      <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb50-36"><a href="abundance-vs.-detections.html#cb50-36" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))))</span>
<span id="cb50-37"><a href="abundance-vs.-detections.html#cb50-37" tabindex="-1"></a>  </span>
<span id="cb50-38"><a href="abundance-vs.-detections.html#cb50-38" tabindex="-1"></a>  <span class="co"># write the metadata to a dataframe for later analysis</span></span>
<span id="cb50-39"><a href="abundance-vs.-detections.html#cb50-39" tabindex="-1"></a>  <span class="co"># extracting information using a pre-existing function</span></span>
<span id="cb50-40"><a href="abundance-vs.-detections.html#cb50-40" tabindex="-1"></a>  stat <span class="ot">&lt;-</span> <span class="fu">extract_stats</span>(plots[[i]])<span class="sc">$</span>subtitle_data</span>
<span id="cb50-41"><a href="abundance-vs.-detections.html#cb50-41" tabindex="-1"></a>  stat<span class="sc">$</span>scientific_name <span class="ot">&lt;-</span> a</span>
<span id="cb50-42"><a href="abundance-vs.-detections.html#cb50-42" tabindex="-1"></a>  </span>
<span id="cb50-43"><a href="abundance-vs.-detections.html#cb50-43" tabindex="-1"></a>  <span class="co"># add it to the above empty metadata dataframe</span></span>
<span id="cb50-44"><a href="abundance-vs.-detections.html#cb50-44" tabindex="-1"></a>  metadata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(metadata, stat)</span>
<span id="cb50-45"><a href="abundance-vs.-detections.html#cb50-45" tabindex="-1"></a>}</span>
<span id="cb50-46"><a href="abundance-vs.-detections.html#cb50-46" tabindex="-1"></a></span>
<span id="cb50-47"><a href="abundance-vs.-detections.html#cb50-47" tabindex="-1"></a><span class="co"># plot and save as a single pdf</span></span>
<span id="cb50-48"><a href="abundance-vs.-detections.html#cb50-48" tabindex="-1"></a><span class="fu">cairo_pdf</span>(</span>
<span id="cb50-49"><a href="abundance-vs.-detections.html#cb50-49" tabindex="-1"></a>  <span class="at">filename =</span> <span class="st">&quot;figs/abundance-detections-by-species.pdf&quot;</span>,</span>
<span id="cb50-50"><a href="abundance-vs.-detections.html#cb50-50" tabindex="-1"></a>  <span class="at">width =</span> <span class="dv">13</span>, <span class="at">height =</span> <span class="dv">12</span>,</span>
<span id="cb50-51"><a href="abundance-vs.-detections.html#cb50-51" tabindex="-1"></a>  <span class="at">onefile =</span> <span class="cn">TRUE</span></span>
<span id="cb50-52"><a href="abundance-vs.-detections.html#cb50-52" tabindex="-1"></a>)</span>
<span id="cb50-53"><a href="abundance-vs.-detections.html#cb50-53" tabindex="-1"></a>plots</span>
<span id="cb50-54"><a href="abundance-vs.-detections.html#cb50-54" tabindex="-1"></a><span class="fu">dev.off</span>()</span>
<span id="cb50-55"><a href="abundance-vs.-detections.html#cb50-55" tabindex="-1"></a></span>
<span id="cb50-56"><a href="abundance-vs.-detections.html#cb50-56" tabindex="-1"></a><span class="co"># write the metadata to a .csv</span></span>
<span id="cb50-57"><a href="abundance-vs.-detections.html#cb50-57" tabindex="-1"></a><span class="fu">write.csv</span>(metadata[,<span class="sc">-</span><span class="dv">14</span>], <span class="co"># removing the expression column</span></span>
<span id="cb50-58"><a href="abundance-vs.-detections.html#cb50-58" tabindex="-1"></a>          <span class="st">&quot;results/correlationScores-abundance-detections.csv&quot;</span>,</span>
<span id="cb50-59"><a href="abundance-vs.-detections.html#cb50-59" tabindex="-1"></a>          <span class="at">row.names =</span> F)</span></code></pre></div>
<p>Rerunning the abundance-detection analysis essentially suggests that at the community level/when species are pooled across sites - there seems to be a high Pearson’s correlation value between abundance and detections (when site-level variation is include, this ranges between 0.51 to 0.55, but when site-level variation is compressed/lost/pooled across treatments, this value ranges between 0.85 to 0.87).</p>
<p>However, when we break this result down and examine it for each species by species, we notice that the above result varies by species. At the species level, we considered a total of 48 species for this exercise. The list of 48 species only includes those that had a minimum abundance value of 10 and a minimum number of acoustic detections of 10.</p>
<p>We observed that ~15 species showed a positive r of &gt;0.4, ~20 species showed a positive r of &gt;0.3.Nine species showed a very small positive r value between 0 and 0.2. The species that showed the highest positive r values include Pycnonotus jocosus (0.85), Hypsipetes ganeesa (0.67) and Leptocoma minima (0.66).</p>
<p>Five species had a negative r value between 0 and -0.2. Seven species had a negative r value that ranged between -0.2 and -0.51. The three species showing a very high negative r value are Dicrurus aeneus (-0.51), Muscicapa muttui(-0.46), and Ficedula ruficauda (-0.45).</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="body-mass---frequency-correlations.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="abundance-vs.-vocalization-rates.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/vjjan91/pointCount-Acoustics/edit/master/08_abundance-detections.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
