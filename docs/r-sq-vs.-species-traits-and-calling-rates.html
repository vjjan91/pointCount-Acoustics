<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Section 8 r sq vs. species traits and calling rates | Source code and supporting information for Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats</title>
  <meta name="description" content="Section 8 r sq vs. species traits and calling rates | Source code and supporting information for Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Section 8 r sq vs. species traits and calling rates | Source code and supporting information for Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="vjjan91/pointCount-Acoustics" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Section 8 r sq vs. species traits and calling rates | Source code and supporting information for Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats" />
  
  
  

<meta name="author" content="Vijay Ramesh" />
<meta name="author" content="Priyanka Hari Haran" />
<meta name="author" content="Laurel B Symes" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="abundance-vs.-acoustic-detection-rates.html"/>
<link rel="next" href="r-value-vs.-species-traits.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#attribution"><i class="fa fa-check"></i><b>1.1</b> Attribution</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#data-access"><i class="fa fa-check"></i><b>1.2</b> Data access</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#data-processing"><i class="fa fa-check"></i><b>1.3</b> Data processing</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html"><i class="fa fa-check"></i><b>2</b> Making datasets comparable</a>
<ul>
<li class="chapter" data-level="2.1" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#install-required-libraries"><i class="fa fa-check"></i><b>2.1</b> Install required libraries</a></li>
<li class="chapter" data-level="2.2" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#loading-point-count-data"><i class="fa fa-check"></i><b>2.2</b> Loading point count data</a></li>
<li class="chapter" data-level="2.3" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#loading-the-acoustic-data"><i class="fa fa-check"></i><b>2.3</b> Loading the acoustic data</a></li>
<li class="chapter" data-level="2.4" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#subset-acoustic-data-and-point-count-data"><i class="fa fa-check"></i><b>2.4</b> Subset acoustic data and point count data</a></li>
<li class="chapter" data-level="2.5" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#evaluating-both-subsets-of-data-before-combining-them-into-a-single-dataframe-for-further-analysis"><i class="fa fa-check"></i><b>2.5</b> Evaluating both subsets of data before combining them into a single dataframe for further analysis</a></li>
<li class="chapter" data-level="2.6" data-path="making-datasets-comparable.html"><a href="making-datasets-comparable.html#bind-the-acoustic-and-point-count-datasets-into-a-single-dataframe"><i class="fa fa-check"></i><b>2.6</b> Bind the acoustic and point count datasets into a single dataframe</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="richness-estimates.html"><a href="richness-estimates.html"><i class="fa fa-check"></i><b>3</b> Richness estimates</a>
<ul>
<li class="chapter" data-level="3.1" data-path="richness-estimates.html"><a href="richness-estimates.html#install-necessary-libraries"><i class="fa fa-check"></i><b>3.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="3.2" data-path="richness-estimates.html"><a href="richness-estimates.html#load-dataframe-containing-point-count-and-acoustic-data"><i class="fa fa-check"></i><b>3.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="3.3" data-path="richness-estimates.html"><a href="richness-estimates.html#load-species-trait-data"><i class="fa fa-check"></i><b>3.3</b> Load species trait data</a></li>
<li class="chapter" data-level="3.4" data-path="richness-estimates.html"><a href="richness-estimates.html#estimate-richness-for-point-count-and-acoustic-data"><i class="fa fa-check"></i><b>3.4</b> Estimate richness for point count and acoustic data</a></li>
<li class="chapter" data-level="3.5" data-path="richness-estimates.html"><a href="richness-estimates.html#visualize-differences-in-richness-between-point-count-data-and-acoustic-data"><i class="fa fa-check"></i><b>3.5</b> Visualize differences in richness between point count data and acoustic data</a></li>
<li class="chapter" data-level="3.6" data-path="richness-estimates.html"><a href="richness-estimates.html#visualize-differences-in-richness-as-a-function-of-species-habitat-affiliation"><i class="fa fa-check"></i><b>3.6</b> Visualize differences in richness as a function of species habitat affiliation</a></li>
<li class="chapter" data-level="3.7" data-path="richness-estimates.html"><a href="richness-estimates.html#visualize-differences-in-species-richness-as-a-function-of-species-foraging-guilds"><i class="fa fa-check"></i><b>3.7</b> Visualize differences in species richness as a function of species foraging guilds</a></li>
<li class="chapter" data-level="3.8" data-path="richness-estimates.html"><a href="richness-estimates.html#stacked-barplots-for-richness-across-foraging-guilds"><i class="fa fa-check"></i><b>3.8</b> Stacked barplots for richness across foraging guilds</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html"><i class="fa fa-check"></i><b>4</b> Time of day analyses</a>
<ul>
<li class="chapter" data-level="4.1" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#install-necessary-libraries-1"><i class="fa fa-check"></i><b>4.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="4.2" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#load-dataframe-containing-point-count-and-acoustic-data-1"><i class="fa fa-check"></i><b>4.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="4.3" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#load-species-trait-data-1"><i class="fa fa-check"></i><b>4.3</b> Load species trait data</a></li>
<li class="chapter" data-level="4.4" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#what-times-of-day-have-been-sampled-across-sites"><i class="fa fa-check"></i><b>4.4</b> What times of day have been sampled across sites?</a></li>
<li class="chapter" data-level="4.5" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#estimate-richness-by-time-of-day"><i class="fa fa-check"></i><b>4.5</b> Estimate richness by time of day</a></li>
<li class="chapter" data-level="4.6" data-path="time-of-day-analyses.html"><a href="time-of-day-analyses.html#visualize-differences-in-richness-between-point-count-data-and-acoustic-data-1"><i class="fa fa-check"></i><b>4.6</b> Visualize differences in richness between point count data and acoustic data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html"><i class="fa fa-check"></i><b>5</b> Indicator species analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#load-necessary-libraries"><i class="fa fa-check"></i><b>5.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="5.2" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#load-dataframe-containing-point-count-and-acoustic-data-2"><i class="fa fa-check"></i><b>5.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="5.3" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#load-species-trait-data-2"><i class="fa fa-check"></i><b>5.3</b> Load species trait data</a></li>
<li class="chapter" data-level="5.4" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#estimate-detections-across-visits-for-point-count-data-and-acoustic-data"><i class="fa fa-check"></i><b>5.4</b> Estimate detections across visits for point count data and acoustic data</a></li>
<li class="chapter" data-level="5.5" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#indicator-species-analysis-of-the-point-count-dataset"><i class="fa fa-check"></i><b>5.5</b> Indicator species analysis of the point-count dataset</a></li>
<li class="chapter" data-level="5.6" data-path="indicator-species-analysis.html"><a href="indicator-species-analysis.html#indicator-species-analysis-for-acoustic-data"><i class="fa fa-check"></i><b>5.6</b> Indicator species analysis for acoustic data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html"><i class="fa fa-check"></i><b>6</b> Rank abundance and species accumulation curves for point count and acoustic data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html#install-necessary-libraries-2"><i class="fa fa-check"></i><b>6.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="6.2" data-path="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html#load-dataframe-containing-point-count-and-acoustic-data-3"><i class="fa fa-check"></i><b>6.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="6.3" data-path="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html#estimate-abundance-for-point-count-data-and-detections-for-acoustic-data"><i class="fa fa-check"></i><b>6.3</b> Estimate abundance for point count data and detections for acoustic data</a></li>
<li class="chapter" data-level="6.4" data-path="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html#create-rank-abundance-curves"><i class="fa fa-check"></i><b>6.4</b> Create rank abundance curves</a></li>
<li class="chapter" data-level="6.5" data-path="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html#rank-abundance-models"><i class="fa fa-check"></i><b>6.5</b> Rank-abundance models</a></li>
<li class="chapter" data-level="6.6" data-path="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html"><a href="rank-abundance-and-species-accumulation-curves-for-point-count-and-acoustic-data.html#species-accumulation-curves"><i class="fa fa-check"></i><b>6.6</b> Species accumulation curves</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="abundance-vs.-acoustic-detection-rates.html"><a href="abundance-vs.-acoustic-detection-rates.html"><i class="fa fa-check"></i><b>7</b> Abundance vs. acoustic detection rates</a>
<ul>
<li class="chapter" data-level="7.1" data-path="abundance-vs.-acoustic-detection-rates.html"><a href="abundance-vs.-acoustic-detection-rates.html#install-necessary-libraries-3"><i class="fa fa-check"></i><b>7.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="7.2" data-path="abundance-vs.-acoustic-detection-rates.html"><a href="abundance-vs.-acoustic-detection-rates.html#load-existing-data"><i class="fa fa-check"></i><b>7.2</b> Load existing data</a></li>
<li class="chapter" data-level="7.3" data-path="abundance-vs.-acoustic-detection-rates.html"><a href="abundance-vs.-acoustic-detection-rates.html#estimate-abundance-from-point-count-data-and-calculate-acoustic-detection-rates-from-acoustic-data"><i class="fa fa-check"></i><b>7.3</b> Estimate abundance from point count data and calculate acoustic detection rates from acoustic data</a></li>
<li class="chapter" data-level="7.4" data-path="abundance-vs.-acoustic-detection-rates.html"><a href="abundance-vs.-acoustic-detection-rates.html#correlations-between-acoustic-detection-rates-and-abundance-from-point-count-data"><i class="fa fa-check"></i><b>7.4</b> Correlations between acoustic detection rates and abundance from point count data</a></li>
<li class="chapter" data-level="7.5" data-path="abundance-vs.-acoustic-detection-rates.html"><a href="abundance-vs.-acoustic-detection-rates.html#regressions-between-abundance-and-acoustic-detection-rates"><i class="fa fa-check"></i><b>7.5</b> Regressions between abundance and acoustic detection rates</a></li>
<li class="chapter" data-level="7.6" data-path="abundance-vs.-acoustic-detection-rates.html"><a href="abundance-vs.-acoustic-detection-rates.html#plotting-species-specific-regression-plots-of-abundance-and-acoustic-detection-rate"><i class="fa fa-check"></i><b>7.6</b> Plotting species-specific regression plots of abundance and acoustic detection rate</a></li>
<li class="chapter" data-level="7.7" data-path="abundance-vs.-acoustic-detection-rates.html"><a href="abundance-vs.-acoustic-detection-rates.html#association-between-abundance-and-acoustic-detection-rates-across-species"><i class="fa fa-check"></i><b>7.7</b> Association between abundance and acoustic detection rates across species</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="r-sq-vs.-species-traits-and-calling-rates.html"><a href="r-sq-vs.-species-traits-and-calling-rates.html"><i class="fa fa-check"></i><b>8</b> r sq vs. species traits and calling rates</a>
<ul>
<li class="chapter" data-level="8.1" data-path="r-sq-vs.-species-traits-and-calling-rates.html"><a href="r-sq-vs.-species-traits-and-calling-rates.html#load-necessary-libraries-1"><i class="fa fa-check"></i><b>8.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="8.2" data-path="r-sq-vs.-species-traits-and-calling-rates.html"><a href="r-sq-vs.-species-traits-and-calling-rates.html#load-species-trait-data-and-frequency-data"><i class="fa fa-check"></i><b>8.2</b> Load species trait data and frequency data</a></li>
<li class="chapter" data-level="8.3" data-path="r-sq-vs.-species-traits-and-calling-rates.html"><a href="r-sq-vs.-species-traits-and-calling-rates.html#load-dataframe-containing-point-count-and-acoustic-data-4"><i class="fa fa-check"></i><b>8.3</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="8.4" data-path="r-sq-vs.-species-traits-and-calling-rates.html"><a href="r-sq-vs.-species-traits-and-calling-rates.html#load-adjusted-r-squared-values-from-previous-script"><i class="fa fa-check"></i><b>8.4</b> Load adjusted r squared values from previous script</a></li>
<li class="chapter" data-level="8.5" data-path="r-sq-vs.-species-traits-and-calling-rates.html"><a href="r-sq-vs.-species-traits-and-calling-rates.html#body-mass-and-r-squared-values"><i class="fa fa-check"></i><b>8.5</b> Body mass and R squared values</a></li>
<li class="chapter" data-level="8.6" data-path="r-sq-vs.-species-traits-and-calling-rates.html"><a href="r-sq-vs.-species-traits-and-calling-rates.html#median-peak-frequency-and-r-squared-values"><i class="fa fa-check"></i><b>8.6</b> Median peak frequency and R squared values</a></li>
<li class="chapter" data-level="8.7" data-path="r-sq-vs.-species-traits-and-calling-rates.html"><a href="r-sq-vs.-species-traits-and-calling-rates.html#median-peak-amplitude-and-r-squared-values"><i class="fa fa-check"></i><b>8.7</b> Median peak amplitude and R squared values</a></li>
<li class="chapter" data-level="8.8" data-path="r-sq-vs.-species-traits-and-calling-rates.html"><a href="r-sq-vs.-species-traits-and-calling-rates.html#calling-rate-and-r-squared-values"><i class="fa fa-check"></i><b>8.8</b> Calling rate and R squared values</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html"><i class="fa fa-check"></i><b>9</b> r value vs. species traits</a>
<ul>
<li class="chapter" data-level="9.1" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html#load-necessary-libraries-2"><i class="fa fa-check"></i><b>9.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="9.2" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html#load-species-trait-data-and-frequency-data-1"><i class="fa fa-check"></i><b>9.2</b> Load species trait data and frequency data</a></li>
<li class="chapter" data-level="9.3" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html#load-correlation-scores-from-previous-script"><i class="fa fa-check"></i><b>9.3</b> Load correlation scores from previous script</a></li>
<li class="chapter" data-level="9.4" data-path="r-value-vs.-species-traits.html"><a href="r-value-vs.-species-traits.html#body-mass-and-correlation-scores"><i class="fa fa-check"></i><b>9.4</b> Body mass and correlation scores</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="abundance-and-detections-repeatability-analyses.html"><a href="abundance-and-detections-repeatability-analyses.html"><i class="fa fa-check"></i><b>10</b> Abundance and detections repeatability analyses</a>
<ul>
<li class="chapter" data-level="10.1" data-path="abundance-and-detections-repeatability-analyses.html"><a href="abundance-and-detections-repeatability-analyses.html#install-necessary-libraries-4"><i class="fa fa-check"></i><b>10.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="10.2" data-path="abundance-and-detections-repeatability-analyses.html"><a href="abundance-and-detections-repeatability-analyses.html#load-dataframe-containing-point-count-and-acoustic-data-5"><i class="fa fa-check"></i><b>10.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="10.3" data-path="abundance-and-detections-repeatability-analyses.html"><a href="abundance-and-detections-repeatability-analyses.html#estimate-abundance-for-point-count-data-and-detections-for-acoustic-data-1"><i class="fa fa-check"></i><b>10.3</b> Estimate abundance for point count data and detections for acoustic data</a></li>
<li class="chapter" data-level="10.4" data-path="abundance-and-detections-repeatability-analyses.html"><a href="abundance-and-detections-repeatability-analyses.html#run-analysis-at-the-level-of-each-species-across-all-sites-and-treatments-combined-for-point-count-data"><i class="fa fa-check"></i><b>10.4</b> Run analysis at the level of each species (across all sites and treatments combined) for point count data</a></li>
<li class="chapter" data-level="10.5" data-path="abundance-and-detections-repeatability-analyses.html"><a href="abundance-and-detections-repeatability-analyses.html#run-analysis-at-the-level-of-each-species-across-all-sites-and-treatments-combined-for-acoustic-data"><i class="fa fa-check"></i><b>10.5</b> Run analysis at the level of each species (across all sites and treatments combined) for acoustic data</a></li>
<li class="chapter" data-level="10.6" data-path="abundance-and-detections-repeatability-analyses.html"><a href="abundance-and-detections-repeatability-analyses.html#mix-and-match-acoustic-data-and-point-count-surveys"><i class="fa fa-check"></i><b>10.6</b> Mix and match acoustic data and point count surveys</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html"><i class="fa fa-check"></i><b>11</b> Abundance vs. detections</a>
<ul>
<li class="chapter" data-level="11.1" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#install-necessary-libraries-5"><i class="fa fa-check"></i><b>11.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="11.2" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#load-dataframe-containing-point-count-and-acoustic-data-6"><i class="fa fa-check"></i><b>11.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="11.3" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#estimate-abundance-for-point-count-data-and-detections-for-acoustic-data-2"><i class="fa fa-check"></i><b>11.3</b> Estimate abundance for point count data and detections for acoustic data</a></li>
<li class="chapter" data-level="11.4" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#correlations-between-abundance-and-detections"><i class="fa fa-check"></i><b>11.4</b> Correlations between abundance and detections</a></li>
<li class="chapter" data-level="11.5" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#combine-site-level-data-to-test-for-correlations-between-abundance-and-detections-for-each-species-at-the-level-of-the-treatment-type"><i class="fa fa-check"></i><b>11.5</b> Combine site-level data to test for correlations between abundance and detections for each species (at the level of the treatment type)</a></li>
<li class="chapter" data-level="11.6" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#rerun-analysis-at-the-level-of-each-species-across-all-sites-and-treatments-combined"><i class="fa fa-check"></i><b>11.6</b> Rerun analysis at the level of each species (across all sites and treatments combined)</a></li>
<li class="chapter" data-level="11.7" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#species-specific-plots-of-correlations-between-abundance-and-detections"><i class="fa fa-check"></i><b>11.7</b> Species-specific plots of correlations between abundance and detections</a></li>
<li class="chapter" data-level="11.8" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#regressions-between-abundance-and-detections"><i class="fa fa-check"></i><b>11.8</b> Regressions between abundance and detections</a></li>
<li class="chapter" data-level="11.9" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#plotting-species-specific-regression-plots"><i class="fa fa-check"></i><b>11.9</b> Plotting species-specific regression plots</a></li>
<li class="chapter" data-level="11.10" data-path="abundance-vs.-detections.html"><a href="abundance-vs.-detections.html#community-level-regressions"><i class="fa fa-check"></i><b>11.10</b> Community-level regressions</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html"><i class="fa fa-check"></i><b>12</b> Body mass - Frequency correlations</a>
<ul>
<li class="chapter" data-level="12.1" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html#load-necessary-libraries-3"><i class="fa fa-check"></i><b>12.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="12.2" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html#load-species-trait-data-and-frequency-data-2"><i class="fa fa-check"></i><b>12.2</b> Load species trait data and frequency data</a></li>
<li class="chapter" data-level="12.3" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html#process-frequency-data"><i class="fa fa-check"></i><b>12.3</b> Process frequency data</a></li>
<li class="chapter" data-level="12.4" data-path="body-mass---frequency-correlations.html"><a href="body-mass---frequency-correlations.html#visualization-of-correlations-between-body-mass-and-frequency"><i class="fa fa-check"></i><b>12.4</b> Visualization of correlations between body mass and frequency</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="body-mass.html"><a href="body-mass.html"><i class="fa fa-check"></i><b>13</b> Body mass</a>
<ul>
<li class="chapter" data-level="13.1" data-path="body-mass.html"><a href="body-mass.html#load-necessary-libraries-4"><i class="fa fa-check"></i><b>13.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="13.2" data-path="body-mass.html"><a href="body-mass.html#load-dataframe-containing-point-count-and-acoustic-data-7"><i class="fa fa-check"></i><b>13.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="13.3" data-path="body-mass.html"><a href="body-mass.html#load-species-trait-data-3"><i class="fa fa-check"></i><b>13.3</b> Load species trait data</a></li>
<li class="chapter" data-level="13.4" data-path="body-mass.html"><a href="body-mass.html#visit-level-detection-estimates-for-each-species"><i class="fa fa-check"></i><b>13.4</b> Visit-level detection estimates for each species</a></li>
<li class="chapter" data-level="13.5" data-path="body-mass.html"><a href="body-mass.html#exploring-ratios-of-detections-in-point-counts-acoustic-surveys-to-body-mass-of-a-species"><i class="fa fa-check"></i><b>13.5</b> Exploring ratios of detections in point counts &amp; acoustic surveys to body mass of a species</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="density-estimation.html"><a href="density-estimation.html"><i class="fa fa-check"></i><b>14</b> Density estimation</a>
<ul>
<li class="chapter" data-level="14.1" data-path="density-estimation.html"><a href="density-estimation.html#install-necessary-libraries-6"><i class="fa fa-check"></i><b>14.1</b> Install necessary libraries</a></li>
<li class="chapter" data-level="14.2" data-path="density-estimation.html"><a href="density-estimation.html#load-dataframe-containing-point-count-and-acoustic-data-8"><i class="fa fa-check"></i><b>14.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="14.3" data-path="density-estimation.html"><a href="density-estimation.html#creating-a-distance-object-from-point-count-data"><i class="fa fa-check"></i><b>14.3</b> Creating a distance object from point count data</a></li>
<li class="chapter" data-level="14.4" data-path="density-estimation.html"><a href="density-estimation.html#run-distance-analysis"><i class="fa fa-check"></i><b>14.4</b> Run distance analysis</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="frequency-and-amplitude.html"><a href="frequency-and-amplitude.html"><i class="fa fa-check"></i><b>15</b> Frequency and amplitude</a>
<ul>
<li class="chapter" data-level="15.1" data-path="frequency-and-amplitude.html"><a href="frequency-and-amplitude.html#load-necessary-libraries-5"><i class="fa fa-check"></i><b>15.1</b> Load necessary libraries</a></li>
<li class="chapter" data-level="15.2" data-path="frequency-and-amplitude.html"><a href="frequency-and-amplitude.html#load-dataframe-containing-point-count-and-acoustic-data-9"><i class="fa fa-check"></i><b>15.2</b> Load dataframe containing point count and acoustic data</a></li>
<li class="chapter" data-level="15.3" data-path="frequency-and-amplitude.html"><a href="frequency-and-amplitude.html#load-species-trait-data-and-frequency-data-3"><i class="fa fa-check"></i><b>15.3</b> Load species trait data and frequency data</a></li>
<li class="chapter" data-level="15.4" data-path="frequency-and-amplitude.html"><a href="frequency-and-amplitude.html#process-frequency-data-1"><i class="fa fa-check"></i><b>15.4</b> Process frequency data</a></li>
<li class="chapter" data-level="15.5" data-path="frequency-and-amplitude.html"><a href="frequency-and-amplitude.html#visit-level-detection-estimates-for-each-species-1"><i class="fa fa-check"></i><b>15.5</b> Visit-level detection estimates for each species</a></li>
<li class="chapter" data-level="15.6" data-path="frequency-and-amplitude.html"><a href="frequency-and-amplitude.html#exploring-ratios-of-detections-in-point-counts-acoustic-surveys-to-median-peak-frequency-of-a-species"><i class="fa fa-check"></i><b>15.6</b> Exploring ratios of detections in point counts &amp; acoustic surveys to median peak frequency of a species</a></li>
<li class="chapter" data-level="15.7" data-path="frequency-and-amplitude.html"><a href="frequency-and-amplitude.html#exploring-center-frequency-instead-of-peak-frequency"><i class="fa fa-check"></i><b>15.7</b> Exploring center frequency instead of peak frequency</a></li>
<li class="chapter" data-level="15.8" data-path="frequency-and-amplitude.html"><a href="frequency-and-amplitude.html#amplitude"><i class="fa fa-check"></i><b>15.8</b> Amplitude</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Source code and supporting information for <em>Comparing point count surveys to acoustic data across a gradient of forest regeneration in the Western Ghats</em></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-sq-vs.-species-traits-and-calling-rates" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Section 8</span> r sq vs. species traits and calling rates<a href="r-sq-vs.-species-traits-and-calling-rates.html#r-sq-vs.-species-traits-and-calling-rates" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this script, we will plot the adjusted r squared values (derived from the regressions analysis) against species-specific traits.</p>
<div id="load-necessary-libraries-1" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Load necessary libraries<a href="r-sq-vs.-species-traits-and-calling-rates.html#load-necessary-libraries-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb40-2"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-2" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb40-3"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-3" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb40-4"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-4" tabindex="-1"></a><span class="fu">library</span>(vegan)</span>
<span id="cb40-5"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-5" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb40-6"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-6" tabindex="-1"></a><span class="fu">library</span>(scico)</span>
<span id="cb40-7"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-7" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb40-8"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-8" tabindex="-1"></a><span class="fu">library</span>(ecodist)</span>
<span id="cb40-9"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-9" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb40-10"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-10" tabindex="-1"></a><span class="fu">library</span>(ggforce)</span>
<span id="cb40-11"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-11" tabindex="-1"></a><span class="fu">library</span>(ggpubr)</span>
<span id="cb40-12"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-12" tabindex="-1"></a><span class="fu">library</span>(ggalt)</span>
<span id="cb40-13"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-13" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb40-14"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-14" tabindex="-1"></a><span class="fu">library</span>(sjPlot)</span>
<span id="cb40-15"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-15" tabindex="-1"></a><span class="fu">library</span>(ggside)</span>
<span id="cb40-16"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-16" tabindex="-1"></a><span class="fu">library</span>(ggstatsplot)</span>
<span id="cb40-17"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-17" tabindex="-1"></a><span class="fu">library</span>(extrafont)</span>
<span id="cb40-18"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-18" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb40-19"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-19" tabindex="-1"></a></span>
<span id="cb40-20"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-20" tabindex="-1"></a><span class="co"># Source any custom/other internal functions necessary for analysis</span></span>
<span id="cb40-21"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb40-21" tabindex="-1"></a><span class="fu">source</span>(<span class="st">&quot;code/01_internal-functions.R&quot;</span>)</span></code></pre></div>
</div>
<div id="load-species-trait-data-and-frequency-data" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Load species trait data and frequency data<a href="r-sq-vs.-species-traits-and-calling-rates.html#load-species-trait-data-and-frequency-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb41-1" tabindex="-1"></a>trait <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/species-trait-dat.csv&quot;</span>)</span>
<span id="cb41-2"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb41-2" tabindex="-1"></a>freq <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/frequency-data.csv&quot;</span>)</span>
<span id="cb41-3"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb41-3" tabindex="-1"></a>sociality <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/sociality-data.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="load-dataframe-containing-point-count-and-acoustic-data-4" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Load dataframe containing point count and acoustic data<a href="r-sq-vs.-species-traits-and-calling-rates.html#load-dataframe-containing-point-count-and-acoustic-data-4" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb42-1" tabindex="-1"></a>datSubset <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;results/datSubset.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="load-adjusted-r-squared-values-from-previous-script" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Load adjusted r squared values from previous script<a href="r-sq-vs.-species-traits-and-calling-rates.html#load-adjusted-r-squared-values-from-previous-script" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb43-1" tabindex="-1"></a>r_sq <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;results/aruRates-abundance-regressions.csv&quot;</span>)</span></code></pre></div>
</div>
<div id="body-mass-and-r-squared-values" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Body mass and R squared values<a href="r-sq-vs.-species-traits-and-calling-rates.html#body-mass-and-r-squared-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Are species of a certain body mass showing stronger/poorer R squared values (between abundance and acoustic detections)?</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-1" tabindex="-1"></a>r_sq_trait <span class="ot">&lt;-</span> <span class="fu">left_join</span>(r_sq, trait, <span class="at">by =</span> <span class="st">&quot;common_name&quot;</span>)</span>
<span id="cb44-2"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-2" tabindex="-1"></a></span>
<span id="cb44-3"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-3" tabindex="-1"></a><span class="co"># log transform body mass</span></span>
<span id="cb44-4"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-4" tabindex="-1"></a>r_sq_trait<span class="sc">$</span>log_mass <span class="ot">&lt;-</span> <span class="fu">log10</span>(r_sq_trait<span class="sc">$</span>mass)</span>
<span id="cb44-5"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-5" tabindex="-1"></a></span>
<span id="cb44-6"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-6" tabindex="-1"></a><span class="co"># visualization</span></span>
<span id="cb44-7"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-7" tabindex="-1"></a>fig_bodyMass_rSqValue <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(r_sq_trait, <span class="fu">aes</span>(<span class="at">x=</span>log_mass,<span class="at">y=</span>r_sq)) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">stroke =</span> <span class="dv">1</span>)<span class="sc">+</span> </span>
<span id="cb44-8"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-8" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span><span class="cn">TRUE</span>, <span class="at">fullrange=</span><span class="cn">FALSE</span>, <span class="at">level=</span><span class="fl">0.95</span>,<span class="at">linetype=</span><span class="st">&quot;solid&quot;</span>) <span class="sc">+</span>  </span>
<span id="cb44-9"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-9" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb44-10"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-10" tabindex="-1"></a>  <span class="fu">stat_regline_equation</span>(<span class="at">label.y =</span> <span class="fl">0.85</span>, <span class="fu">aes</span>(<span class="at">label =</span> ..eq.label..),</span>
<span id="cb44-11"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-11" tabindex="-1"></a>                        <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb44-12"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-12" tabindex="-1"></a>  <span class="fu">stat_regline_equation</span>(<span class="at">label.y =</span> <span class="fl">0.75</span>, <span class="fu">aes</span>(<span class="at">label =</span> ..rr.label..),</span>
<span id="cb44-13"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-13" tabindex="-1"></a>                        <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb44-14"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-14" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">Adjusted R-Squared value between acoustic detection rate and abundance (point-counts)&quot;</span>, </span>
<span id="cb44-15"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-15" tabindex="-1"></a>       <span class="at">x=</span><span class="st">&quot;Log mass</span><span class="sc">\n</span><span class="st">&quot;</span>) <span class="sc">+</span></span>
<span id="cb44-16"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-16" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb44-17"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-17" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb44-18"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-18" tabindex="-1"></a>      <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, </span>
<span id="cb44-19"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-19" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;#1b2838&quot;</span>),</span>
<span id="cb44-20"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-20" tabindex="-1"></a>      <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb44-21"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-21" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span>
<span id="cb44-22"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-22" tabindex="-1"></a></span>
<span id="cb44-23"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-23" tabindex="-1"></a><span class="fu">ggsave</span>(fig_bodyMass_rSqValue, <span class="at">filename =</span> <span class="st">&quot;figs/fig_bodyMass_adjustedrSq.png&quot;</span>, <span class="at">width =</span> <span class="dv">14</span>, <span class="at">height =</span> <span class="dv">16</span>, <span class="at">device =</span> <span class="fu">png</span>(), <span class="at">units =</span> <span class="st">&quot;in&quot;</span>, <span class="at">dpi =</span> <span class="dv">300</span>)</span>
<span id="cb44-24"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb44-24" tabindex="-1"></a><span class="fu">dev.off</span>() </span></code></pre></div>
<div class="float">
<img src="figs/fig_bodyMass_adjustedrSq.png" alt="Weak fit - in other words, larger-bodied birds do not necessarily have a stronger fit between acoustic detections and abundance (from point count data)" />
<div class="figcaption">Weak fit - in other words, larger-bodied birds do not necessarily have a stronger fit between acoustic detections and abundance (from point count data)</div>
</div>
</div>
<div id="median-peak-frequency-and-r-squared-values" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Median peak frequency and R squared values<a href="r-sq-vs.-species-traits-and-calling-rates.html#median-peak-frequency-and-r-squared-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-1" tabindex="-1"></a><span class="co"># Only a total of 87 species are left after filtering species with very few templates</span></span>
<span id="cb45-2"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-2" tabindex="-1"></a>nTemplates_10 <span class="ot">&lt;-</span> freq <span class="sc">%&gt;%</span></span>
<span id="cb45-3"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-3" tabindex="-1"></a>  <span class="fu">group_by</span>(eBird_codes) <span class="sc">%&gt;%</span></span>
<span id="cb45-4"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-4" tabindex="-1"></a>  <span class="fu">count</span>() <span class="sc">%&gt;%</span></span>
<span id="cb45-5"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-5" tabindex="-1"></a>  <span class="fu">filter</span>(n <span class="sc">&gt;=</span> <span class="dv">10</span>)</span>
<span id="cb45-6"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-6" tabindex="-1"></a></span>
<span id="cb45-7"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-7" tabindex="-1"></a><span class="co"># left-join to remove species with less than 10 templates in the frequency dataset</span></span>
<span id="cb45-8"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-8" tabindex="-1"></a>freq_10 <span class="ot">&lt;-</span> <span class="fu">left_join</span>(nTemplates_10[,<span class="dv">1</span>], freq)</span>
<span id="cb45-9"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-9" tabindex="-1"></a></span>
<span id="cb45-10"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-10" tabindex="-1"></a><span class="co"># calculate median peak frequency</span></span>
<span id="cb45-11"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-11" tabindex="-1"></a>median_pf <span class="ot">&lt;-</span> freq_10 <span class="sc">%&gt;%</span></span>
<span id="cb45-12"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-12" tabindex="-1"></a>  <span class="fu">group_by</span>(eBird_codes) <span class="sc">%&gt;%</span></span>
<span id="cb45-13"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-13" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">median_peak_freq =</span>  <span class="fu">median</span>(peak_freq_in_Hz))</span>
<span id="cb45-14"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-14" tabindex="-1"></a></span>
<span id="cb45-15"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-15" tabindex="-1"></a><span class="co"># add scientific_name to median_pf</span></span>
<span id="cb45-16"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-16" tabindex="-1"></a>median_pf <span class="ot">&lt;-</span> <span class="fu">left_join</span>(median_pf, trait[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>)], <span class="at">by =</span> <span class="st">&quot;eBird_codes&quot;</span>)</span>
<span id="cb45-17"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-17" tabindex="-1"></a></span>
<span id="cb45-18"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-18" tabindex="-1"></a><span class="co"># join r sq and median pf dataframes</span></span>
<span id="cb45-19"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-19" tabindex="-1"></a>r_sq_freq <span class="ot">&lt;-</span> <span class="fu">left_join</span>(r_sq, median_pf, <span class="at">by =</span> <span class="st">&quot;common_name&quot;</span>)</span>
<span id="cb45-20"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-20" tabindex="-1"></a></span>
<span id="cb45-21"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-21" tabindex="-1"></a><span class="co"># visualization</span></span>
<span id="cb45-22"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-22" tabindex="-1"></a>fig_medianPeakFreq_rSqValue <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(r_sq_freq, <span class="fu">aes</span>(<span class="at">x=</span>median_peak_freq,<span class="at">y=</span>r_sq)) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">stroke =</span> <span class="dv">1</span>)<span class="sc">+</span> </span>
<span id="cb45-23"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-23" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span><span class="cn">TRUE</span>, <span class="at">fullrange=</span><span class="cn">FALSE</span>, <span class="at">level=</span><span class="fl">0.95</span>,<span class="at">linetype=</span><span class="st">&quot;solid&quot;</span>) <span class="sc">+</span>  </span>
<span id="cb45-24"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-24" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb45-25"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-25" tabindex="-1"></a>  <span class="fu">stat_regline_equation</span>(<span class="at">label.y =</span> <span class="fl">0.85</span>, <span class="fu">aes</span>(<span class="at">label =</span> ..eq.label..),</span>
<span id="cb45-26"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-26" tabindex="-1"></a>                        <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb45-27"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-27" tabindex="-1"></a>  <span class="fu">stat_regline_equation</span>(<span class="at">label.y =</span> <span class="fl">0.65</span>, <span class="fu">aes</span>(<span class="at">label =</span> ..rr.label..),</span>
<span id="cb45-28"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-28" tabindex="-1"></a>                        <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb45-29"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-29" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">Adjusted R-Squared value between acoustic detection rate and abundance (point-counts)&quot;</span>, </span>
<span id="cb45-30"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-30" tabindex="-1"></a>       <span class="at">x=</span><span class="st">&quot;Median Peak Frequency</span><span class="sc">\n</span><span class="st">&quot;</span>) <span class="sc">+</span></span>
<span id="cb45-31"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-31" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb45-32"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-32" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb45-33"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-33" tabindex="-1"></a>      <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, </span>
<span id="cb45-34"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-34" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;#1b2838&quot;</span>),</span>
<span id="cb45-35"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-35" tabindex="-1"></a>      <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb45-36"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-36" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span>
<span id="cb45-37"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-37" tabindex="-1"></a></span>
<span id="cb45-38"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-38" tabindex="-1"></a><span class="fu">ggsave</span>(fig_medianPeakFreq_rSqValue, <span class="at">filename =</span> <span class="st">&quot;figs/fig_medianPeakFrequency_adjustedrSq.png&quot;</span>, <span class="at">width =</span> <span class="dv">14</span>, <span class="at">height =</span> <span class="dv">16</span>, <span class="at">device =</span> <span class="fu">png</span>(), <span class="at">units =</span> <span class="st">&quot;in&quot;</span>, <span class="at">dpi =</span> <span class="dv">300</span>)</span>
<span id="cb45-39"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb45-39" tabindex="-1"></a><span class="fu">dev.off</span>() </span></code></pre></div>
<div class="float">
<img src="figs/fig_medianPeakFrequency_adjustedrSq.png" alt="No association between adjusted RSq values and median peak frequency" />
<div class="figcaption">No association between adjusted RSq values and median peak frequency</div>
</div>
</div>
<div id="median-peak-amplitude-and-r-squared-values" class="section level2 hasAnchor" number="8.7">
<h2><span class="header-section-number">8.7</span> Median peak amplitude and R squared values<a href="r-sq-vs.-species-traits-and-calling-rates.html#median-peak-amplitude-and-r-squared-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-1" tabindex="-1"></a><span class="co"># calculate median peak amplitude</span></span>
<span id="cb46-2"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-2" tabindex="-1"></a><span class="co"># we extract only the median of the 95th percentile of values</span></span>
<span id="cb46-3"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-3" tabindex="-1"></a>median_amp <span class="ot">&lt;-</span> freq_10 <span class="sc">%&gt;%</span></span>
<span id="cb46-4"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-4" tabindex="-1"></a>  <span class="fu">group_by</span>(eBird_codes) <span class="sc">%&gt;%</span></span>
<span id="cb46-5"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-5" tabindex="-1"></a>  <span class="fu">filter</span>(peak_amp <span class="sc">&gt;=</span> <span class="fu">quantile</span>(peak_amp, <span class="fl">0.95</span>, <span class="at">na.rm =</span> T)) <span class="sc">%&gt;%</span></span>
<span id="cb46-6"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-6" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">median_peak_amp =</span> <span class="fu">median</span>(peak_amp))</span>
<span id="cb46-7"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-7" tabindex="-1"></a></span>
<span id="cb46-8"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-8" tabindex="-1"></a><span class="co"># add scientific_name to median_amp</span></span>
<span id="cb46-9"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-9" tabindex="-1"></a>median_amp <span class="ot">&lt;-</span> <span class="fu">left_join</span>(median_amp, trait[,<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>)], <span class="at">by =</span> <span class="st">&quot;eBird_codes&quot;</span>)</span>
<span id="cb46-10"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-10" tabindex="-1"></a>median_amp<span class="sc">$</span>log_median_peak_amp <span class="ot">&lt;-</span> <span class="fu">log10</span>(median_amp<span class="sc">$</span>median_peak_amp)</span>
<span id="cb46-11"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-11" tabindex="-1"></a></span>
<span id="cb46-12"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-12" tabindex="-1"></a><span class="co"># join r sq and median amplitude dataframes</span></span>
<span id="cb46-13"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-13" tabindex="-1"></a>r_sq_amp <span class="ot">&lt;-</span> <span class="fu">left_join</span>(r_sq, median_amp, <span class="at">by =</span> <span class="st">&quot;common_name&quot;</span>)</span>
<span id="cb46-14"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-14" tabindex="-1"></a></span>
<span id="cb46-15"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-15" tabindex="-1"></a><span class="co"># visualization</span></span>
<span id="cb46-16"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-16" tabindex="-1"></a>fig_medianPeakAmplitude_rSqValue <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(r_sq_amp, <span class="fu">aes</span>(<span class="at">x=</span>log_median_peak_amp,<span class="at">y=</span>r_sq)) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">stroke =</span> <span class="dv">1</span>)<span class="sc">+</span> </span>
<span id="cb46-17"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-17" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span><span class="cn">TRUE</span>, <span class="at">fullrange=</span><span class="cn">FALSE</span>, <span class="at">level=</span><span class="fl">0.95</span>,<span class="at">linetype=</span><span class="st">&quot;solid&quot;</span>) <span class="sc">+</span>  </span>
<span id="cb46-18"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-18" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb46-19"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-19" tabindex="-1"></a>  <span class="fu">stat_regline_equation</span>(<span class="at">label.y =</span> <span class="fl">0.85</span>, <span class="fu">aes</span>(<span class="at">label =</span> ..eq.label..),</span>
<span id="cb46-20"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-20" tabindex="-1"></a>                        <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb46-21"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-21" tabindex="-1"></a>  <span class="fu">stat_regline_equation</span>(<span class="at">label.y =</span> <span class="fl">0.65</span>, <span class="fu">aes</span>(<span class="at">label =</span> ..rr.label..),</span>
<span id="cb46-22"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-22" tabindex="-1"></a>                        <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb46-23"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-23" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">Adjusted R-Squared value between acoustic detection rate and abundance (point-counts)&quot;</span>, </span>
<span id="cb46-24"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-24" tabindex="-1"></a>       <span class="at">x=</span><span class="st">&quot;log(Median Peak Amplitude)</span><span class="sc">\n</span><span class="st">&quot;</span>) <span class="sc">+</span></span>
<span id="cb46-25"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-25" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb46-26"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-26" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb46-27"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-27" tabindex="-1"></a>      <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, </span>
<span id="cb46-28"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-28" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;#1b2838&quot;</span>),</span>
<span id="cb46-29"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-29" tabindex="-1"></a>      <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb46-30"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-30" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span>
<span id="cb46-31"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-31" tabindex="-1"></a></span>
<span id="cb46-32"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-32" tabindex="-1"></a><span class="fu">ggsave</span>(fig_medianPeakAmplitude_rSqValue, <span class="at">filename =</span> <span class="st">&quot;figs/fig_medianPeakAmplitude_adjustedrSq.png&quot;</span>, <span class="at">width =</span> <span class="dv">14</span>, <span class="at">height =</span> <span class="dv">16</span>, <span class="at">device =</span> <span class="fu">png</span>(), <span class="at">units =</span> <span class="st">&quot;in&quot;</span>, <span class="at">dpi =</span> <span class="dv">300</span>)</span>
<span id="cb46-33"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb46-33" tabindex="-1"></a><span class="fu">dev.off</span>() </span></code></pre></div>
<div class="float">
<img src="figs/fig_medianPeakAmplitude_adjustedrSq.png" alt="No association between adjusted RSq values and median peak amplitude" />
<div class="figcaption">No association between adjusted RSq values and median peak amplitude</div>
</div>
</div>
<div id="calling-rate-and-r-squared-values" class="section level2 hasAnchor" number="8.8">
<h2><span class="header-section-number">8.8</span> Calling rate and R squared values<a href="r-sq-vs.-species-traits-and-calling-rates.html#calling-rate-and-r-squared-values" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>How does the coefficient of determination (tightness of fit between acoustic detection rate and abundance from point count data) compare to the calling rate? Here, calling rate for each species is defined as the total acoustic detections divided by the total number of individuals (from point counts). We aim to ask if species that have higher calling rate per individual have a stronger relationship between acoustics and point count data.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-1" tabindex="-1"></a><span class="co"># point-count data</span></span>
<span id="cb47-2"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-2" tabindex="-1"></a><span class="co"># estimate total abundance across all species for each site</span></span>
<span id="cb47-3"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-3" tabindex="-1"></a>abundance <span class="ot">&lt;-</span> datSubset <span class="sc">%&gt;%</span></span>
<span id="cb47-4"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-4" tabindex="-1"></a>  <span class="fu">filter</span>(data_type <span class="sc">==</span> <span class="st">&quot;point_count&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-5"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-5" tabindex="-1"></a>  <span class="fu">group_by</span>(site_id, scientific_name,</span>
<span id="cb47-6"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-6" tabindex="-1"></a>           common_name, eBird_codes) <span class="sc">%&gt;%</span> </span>
<span id="cb47-7"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-7" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">abundance_pc =</span> <span class="fu">sum</span>(number)) <span class="sc">%&gt;%</span></span>
<span id="cb47-8"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-8" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb47-9"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-9" tabindex="-1"></a></span>
<span id="cb47-10"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-10" tabindex="-1"></a><span class="co"># estimate total number of detections across the acoustic data</span></span>
<span id="cb47-11"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-11" tabindex="-1"></a><span class="co"># note: we cannot call this abundance as it refers to the total number of vocalizations across all sites</span></span>
<span id="cb47-12"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-12" tabindex="-1"></a>detections <span class="ot">&lt;-</span> datSubset <span class="sc">%&gt;%</span></span>
<span id="cb47-13"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-13" tabindex="-1"></a>  <span class="fu">filter</span>(data_type <span class="sc">==</span> <span class="st">&quot;acoustic_data&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-14"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-14" tabindex="-1"></a>  <span class="fu">group_by</span>(site_id, scientific_name,</span>
<span id="cb47-15"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-15" tabindex="-1"></a>           common_name, eBird_codes) <span class="sc">%&gt;%</span> </span>
<span id="cb47-16"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-16" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">detections_aru =</span> <span class="fu">sum</span>(number)) <span class="sc">%&gt;%</span></span>
<span id="cb47-17"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-17" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb47-18"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-18" tabindex="-1"></a></span>
<span id="cb47-19"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-19" tabindex="-1"></a><span class="co"># create a single dataframe</span></span>
<span id="cb47-20"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-20" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">full_join</span>(abundance, detections)<span class="sc">%&gt;%</span></span>
<span id="cb47-21"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-21" tabindex="-1"></a>  <span class="fu">replace_na</span>(<span class="fu">list</span>(<span class="at">abundance_pc =</span> <span class="dv">0</span>, <span class="at">detections_aru =</span> <span class="dv">0</span>)) </span>
<span id="cb47-22"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-22" tabindex="-1"></a></span>
<span id="cb47-23"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-23" tabindex="-1"></a><span class="co"># identifying species that need to be kept</span></span>
<span id="cb47-24"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-24" tabindex="-1"></a><span class="co"># only those species that have a minimum abundance value of 10 and minimum detection value of 10</span></span>
<span id="cb47-25"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-25" tabindex="-1"></a>spp_subset <span class="ot">&lt;-</span>  data <span class="sc">%&gt;%</span></span>
<span id="cb47-26"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-26" tabindex="-1"></a>  <span class="fu">group_by</span>(common_name) <span class="sc">%&gt;%</span></span>
<span id="cb47-27"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-27" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">abundance_pc =</span> <span class="fu">sum</span>(abundance_pc), <span class="at">detections_aru =</span> <span class="fu">sum</span>(detections_aru)) <span class="sc">%&gt;%</span></span>
<span id="cb47-28"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-28" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb47-29"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-29" tabindex="-1"></a>  <span class="fu">filter</span>(abundance_pc <span class="sc">&gt;=</span><span class="dv">20</span>)</span>
<span id="cb47-30"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-30" tabindex="-1"></a></span>
<span id="cb47-31"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-31" tabindex="-1"></a><span class="co"># subset data</span></span>
<span id="cb47-32"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-32" tabindex="-1"></a>dat_subset <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb47-33"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-33" tabindex="-1"></a>  <span class="fu">filter</span>(common_name <span class="sc">%in%</span> spp_subset<span class="sc">$</span>common_name) </span>
<span id="cb47-34"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-34" tabindex="-1"></a></span>
<span id="cb47-35"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-35" tabindex="-1"></a><span class="co"># summarizing data (to join with the dataframe on R sq values)</span></span>
<span id="cb47-36"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-36" tabindex="-1"></a>dat_subset <span class="ot">&lt;-</span> dat_subset <span class="sc">%&gt;%</span></span>
<span id="cb47-37"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-37" tabindex="-1"></a>  <span class="fu">group_by</span>(scientific_name, common_name, eBird_codes) <span class="sc">%&gt;%</span></span>
<span id="cb47-38"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-38" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">abundance_pc =</span> <span class="fu">sum</span>(abundance_pc), <span class="at">detections_aru =</span> <span class="fu">sum</span>(detections_aru)) <span class="sc">%&gt;%</span></span>
<span id="cb47-39"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-39" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb47-40"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-40" tabindex="-1"></a></span>
<span id="cb47-41"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-41" tabindex="-1"></a><span class="co"># join with r squared dataframe</span></span>
<span id="cb47-42"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-42" tabindex="-1"></a>r_sq_callingRate <span class="ot">&lt;-</span> <span class="fu">left_join</span>(r_sq, dat_subset, <span class="at">by =</span> <span class="st">&quot;common_name&quot;</span>)</span>
<span id="cb47-43"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-43" tabindex="-1"></a></span>
<span id="cb47-44"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-44" tabindex="-1"></a><span class="co"># extract calling rate</span></span>
<span id="cb47-45"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-45" tabindex="-1"></a>r_sq_callingRate<span class="sc">$</span>calling_rate <span class="ot">&lt;-</span> r_sq_callingRate<span class="sc">$</span>detections_aru<span class="sc">/</span>r_sq_callingRate<span class="sc">$</span>abundance_pc</span>
<span id="cb47-46"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-46" tabindex="-1"></a></span>
<span id="cb47-47"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-47" tabindex="-1"></a><span class="do">## visualization</span></span>
<span id="cb47-48"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-48" tabindex="-1"></a>fig_calling_rate_rSq <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(r_sq_callingRate, <span class="fu">aes</span>(<span class="at">x=</span>calling_rate,<span class="at">y=</span>r_sq)) <span class="sc">+</span>  <span class="fu">geom_point</span>(<span class="at">shape =</span> <span class="dv">21</span>, <span class="at">colour =</span> <span class="st">&quot;black&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">stroke =</span> <span class="dv">1</span>)<span class="sc">+</span> </span>
<span id="cb47-49"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-49" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method=</span><span class="st">&quot;lm&quot;</span>, <span class="at">se=</span><span class="cn">TRUE</span>, <span class="at">fullrange=</span><span class="cn">FALSE</span>, <span class="at">level=</span><span class="fl">0.95</span>,<span class="at">linetype=</span><span class="st">&quot;solid&quot;</span>) <span class="sc">+</span>  </span>
<span id="cb47-50"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-50" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb47-51"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-51" tabindex="-1"></a>  <span class="fu">stat_regline_equation</span>(<span class="at">label.y =</span> <span class="fl">0.85</span>, <span class="fu">aes</span>(<span class="at">label =</span> ..eq.label..),</span>
<span id="cb47-52"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-52" tabindex="-1"></a>                        <span class="at">size =</span> <span class="dv">6</span>, <span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>) <span class="sc">+</span></span>
<span id="cb47-53"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-53" tabindex="-1"></a>  <span class="fu">stat_regline_equation</span>(<span class="at">label.y =</span> <span class="fl">0.75</span>, <span class="fu">aes</span>(<span class="at">label =</span> ..rr.label..),</span>
<span id="cb47-54"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-54" tabindex="-1"></a>                        <span class="at">size =</span> <span class="dv">6</span>, <span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>) <span class="sc">+</span></span>
<span id="cb47-55"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-55" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;</span><span class="sc">\n</span><span class="st">Adjusted R-Squared value between acoustic detection rate and abundance (point-counts)&quot;</span>, </span>
<span id="cb47-56"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-56" tabindex="-1"></a>       <span class="at">x=</span><span class="st">&quot;Calling rate</span><span class="sc">\n</span><span class="st">&quot;</span>) <span class="sc">+</span></span>
<span id="cb47-57"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-57" tabindex="-1"></a>  <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label =</span> scientific_name),<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, <span class="at">fontface =</span> <span class="st">&quot;italic&quot;</span>)<span class="sc">+</span></span>
<span id="cb47-58"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-58" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),<span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,<span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>),</span>
<span id="cb47-59"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-59" tabindex="-1"></a>      <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>, </span>
<span id="cb47-60"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-60" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">15</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="at">color=</span><span class="st">&quot;#1b2838&quot;</span>),</span>
<span id="cb47-61"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-61" tabindex="-1"></a>      <span class="at">axis.title =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;Century Gothic&quot;</span>,</span>
<span id="cb47-62"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-62" tabindex="-1"></a>      <span class="at">size =</span> <span class="dv">18</span>, <span class="at">face =</span> <span class="st">&quot;bold&quot;</span>))</span>
<span id="cb47-63"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-63" tabindex="-1"></a></span>
<span id="cb47-64"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-64" tabindex="-1"></a><span class="fu">ggsave</span>(fig_calling_rate_rSq, <span class="at">filename =</span> <span class="st">&quot;figs/fig_callingRate_adjustedrSq.png&quot;</span>, <span class="at">width =</span> <span class="dv">14</span>, <span class="at">height =</span> <span class="dv">16</span>, <span class="at">device =</span> <span class="fu">png</span>(), <span class="at">units =</span> <span class="st">&quot;in&quot;</span>, <span class="at">dpi =</span> <span class="dv">300</span>)</span>
<span id="cb47-65"><a href="r-sq-vs.-species-traits-and-calling-rates.html#cb47-65" tabindex="-1"></a><span class="fu">dev.off</span>() </span></code></pre></div>
<div class="float">
<img src="figs/fig_callingRate_adjustedrSq.png" alt="No clear association between adjusted RSq values and calling rate" />
<div class="figcaption">No clear association between adjusted RSq values and calling rate</div>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="abundance-vs.-acoustic-detection-rates.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-value-vs.-species-traits.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/vjjan91/pointCount-Acoustics/edit/master/07_r-sq-species-traits.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

</body>

</html>
